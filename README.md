# Void Merchants

![Made with PICO-8](https://img.shields.io/badge/made%20with-PICO--8-red)
![Status: Beta](https://img.shields.io/badge/status-beta-yellow)

Void Merchants is a Space Invaders-inspired action game built in PICO-8. Blast enemies, collect resources and trade your way to upgrades as you progress through increasingly difficult space battles!

<p align="center">
    <img src="https://github.com/Scatenix/Void-Merchants/blob/main/resources/README_resources/void_merchants.png" alt="Void Merchants" width="40%" />
</p>

### Fight, Travel, Trade!

<p align="center">
    <img src="https://github.com/Scatenix/Void-Merchants/blob/main/resources/README_resources/void_merchants_fight.gif" alt="Void Merchants Fight" width="33%" />
    <img src="https://github.com/Scatenix/Void-Merchants/blob/main/resources/README_resources/void_merchants_trade.gif" alt="Void Merchants Travel" width="33%" />
    <img src="https://github.com/Scatenix/Void-Merchants/blob/main/resources/README_resources/void_merchants_travel.gif" alt="Void Merchants Trade" width="33%" />
</p>

Play the web version now! [Void Merchants](https://scatenix.github.io/Void-Merchants/)

## Controls

- ↑ ↓ ← → : Move your ship
- Y, C    : Shoot (Can be held down)
- X, V    : Interact with NPCs or trade
- Create save games at each visit to the trader by hitting X or V
- Load them again at the title screen by hitting Y or C

Can also be played with a controller! Tested with an Xbox controller - others may work too.

The controls can be adjusted in the PICO-8 settings (pause button next to the bottom-right corner).

## State of the Game

The game is currently in the balancing and testing phase.

All planned features have been implemented, except for a final boss fight, which was not possible, due to a code length restriction from PICO-8.

The game offers:
- A title screen with the possibility to load the last save
- Space fights from level 1 to 20
- Trading
- Upgrading the player ship and drone
- Collecting resources, dropped from the enemy ships
- Travel cutscenes between the battles
- Saving, which can be done whilst trading
- Brief conversations with the trader and a mysterious being

Balancing is still in progress. I find the game to be quite hard on the later levels.

## Tech Stack

- Lua (PICO-8 dialect)
- The PICO-8 fantasy console
- Bash (For splitting and merging the cartridge files for easier development and readability)

## What is PICO-8?

PICO-8 is a fantasy console made by Lexaloffle Games for making, sharing and playing tiny games and other computer programs.

The hardware is intentionally very limited - it only has 2 MiB of RAM.

You can read more about it on the official FAQ: https://www.lexaloffle.com/pico-8.php?page=faq.

## Structure

- `root` directory - Contains the actual playable cartridge file `void_merchants.p8` as well as scripts to split and merge this cartridge.
- `game` - Contains individual PICO-8 code files for easier readability. Generated by the `split.sh` script and can be merged back to a playable cartridge with the `merge.sh` script.
- `docs` - Contains an exported version of the game to HTML and JavaScript to be played without the actual PICO-8 console. This is an official feature of PICO-8.

## Running the Game

Play the web version - [Void Merchants](https://scatenix.github.io/Void-Merchants/)

Note: The default sound volume can be a bit loud. I recommend lowering your browser's volume before starting.

The sound volume can be adjusted in the settings (pause button next to the bottom-right corner).

---

Or play it directly on the PICO-8 fantasy console by downloading this png and loading it into PICO-8:

<img src="https://github.com/Scatenix/Void-Merchants/blob/main/resources/README_resources/void_merchants.p8.png" alt="Void Merchants Game Cartridge" />

How to do this:
- Either open PICO-8 and drag and drop `void_merchants.p8.png` into the window (Alt+Enter to toggle fullscreen)
    - (Windows only) Or drag and drop `void_merchants.p8.png` onto the PICO-8.exe
- To save it permanently into your carts, type `save void_merchants`
    - To play the game later again, type `load void_merchants`
- To start the game, type `run` or hit ctrl+r

The game is not yet on the official splore game explorer.

## About the Performance

Because PICO-8 is using a virtualized CPU that is running at about 8 MHz, the game should run on pretty much every system.

- No more than 300 KiB RAM is being used in all scenarios I have tested
- For 20 enemies at level 20 (highest level) on one screen: rarely more than 0.3 CPUs of the virtualized PICO-8 Processor (a score of > 1.0 = game slowdown)
    - One wave can have a maximum of 9 enemies spawned at a time. A second wave will be spawned after some time. No more than 2 waves at the same time are possible
- All off-screen elements are mostly deleted or at least deactivated to avoid heavy calculations or useless rendering
    - Exception: Enemies that spawn behind other enemies will be fully calculated and rendered as an arrow at the right screen edge

Currently only less than 100 of 8192 tokens are left for the game code. There shouldn't really be any unused code, since I had to make sure there is nothing unnecessary to stay in this limit.

## Known Bugs

- Major: Game balancing needs to be tested!
    - Perhaps increase storage on the early levels, or get more money for drones to increase storage
- Minor: Had an instance of my drone dying but the drone_shield was still greater than 0. This should not happen
- Minor: Down-scaled planets look terrible
    - I don't think this is possible without overly complex solutions
- Minor: Sounds or music sometimes skips
    - Unavoidable at the moment because of only 4 sound channels. Game design would need to improve here

## License

All rights reserved.
