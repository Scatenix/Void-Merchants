# Void Merchants

Void Merchants is a Space Invaders-inspired action game built in PICO-8. Blast enemies, collect resources and trade your way to upgrades as you progress through increasingly difficult space battles!

This is my first game in such an advanced state.

All the code, sprites, sounds, and music were entirely created by me but with some outside inspiration of course ;)

![VoidMerchantsPreview](https://github.com/user-attachments/assets/8e84f286-647b-49c6-badc-f8cfba2bcc5f)

Play the web version now! [Void Merchants](https://scatenix.github.io/Void-Merchants/)

Control with arrow keys to move, C to shoot, V to advance text in conversations.

# State of the Game

The game is still in development.

However, it is already in a playable state with something not too far from the intended final game loop.

Major parts that are missing:
- The Trading mechanic (Items exist, the trader can speak to you, but buying upgrades and selling materials is not yet implemented)
- A proper start sequence for the game
- The Final Boss
- Balancing is far from enjoyable at the moment (it gets very hard very quickly)
- Explanations of the controls and abbreviations

# Tech Stack

- Lua (PICO-8 dialect)
- The PICO-8 fantasy console
- Bash (For splitting and merging the cartridge files for easier development and readability)

# What is PICO-8?

PICO-8 is a fantasy console made by Lexaloffle Games for making, sharing and playing tiny games and other computer programs.

The hardware is intentionally very limited - it only has 2 MiB of RAM.

You can read more about it on the official FAQ: https://www.lexaloffle.com/pico-8.php?page=faq.

# Structure

- `root` directory - Contains the actual playable cartridge file `void_merchants.p8` as well as scripts to split and merge this cartridge.
- `game` - Contains individual PICO-8 code files for easier readability. They are generated by the `split.sh` script and can be merged back to a playable cartridge with the `merge.sh` script
- `docs` - Contains an exported version of the game to HTML and JavaScript to be played without the actual PICO-8 console. This is an official feature of PICO-8

# Running the Game

Play the web version - [Void Merchants](https://scatenix.github.io/Void-Merchants/)

Note: The default sound volume can be a bit loud. I recommend lowering your browser's volume before starting.

Controls:
- ↑ ↓ ← → : Move your ship
- C       : Shoot
- V       : Advance text / dialog

Can also be played with a controller! Tested with an Xbox controller - others may work too.

Both the sound volume and the controls can be adjusted in the settings (Pause button next to the bottom right corner).

---

Or play it directly on the PICO-8 fantasy console.

The game is not yet on the official `splore` game explorer.

Take the following steps for Windows:
- Copy the `void_merchants.p8` file to `%AppData%\pico-8\carts\`
- Open PICO-8 and type `load void_merchants.p8`
- Type `run` or hit ctrl+r

# About the Performance

- No more than 300 KiB RAM is being used in all scenarios I have tested
- For 20 enemies at lvl 20 (highest level) on one screen: rarely more than 0.3 CPUs of the virtualized PICO-8 Processor (a score of > 1.0 = game slowdown)
    - One wave can have a maximum of 10 enemies spawned at a time. A second wave will be spawned when the current wave flew about half way through.
- All off-screen elements are mostly deleted or at least deactivated, to avoid heavy calculations or useless rendering.
    - Exception: Enemies that spawn behind other enemies will be fully calculated and rendered as an arrow at the right screen edge.

Currently about 2000 of 8192 tokens are left for the game code.

# Known Bugs

- Major: Game balancing is very bad at the moment
    - For example, level 1 enemies deal 2 damage (should really be 1)
    - Also, Drone should be nearer towards the player on the Y-axis
- Minor: Sounds or music sometimes skips
    - Unavoidable at the moment because of only 4 sound channels. Game design would need to improve here
- Minor: Sounds for buffs (faster shooting and flying) keeps playing if picked up right before starting to travel to the merchant  
- Minor: Player and Drone are not always completely in bounds (edges might be 2-3 pixels outside the visible screen)
    - Probably caused by speed higher than 1, resulting in calculating too far in one direction
- Minor: After the last enemy of the level has been defeated, all shots still on the screen will not hit the player or drone
- Minor: Slow Stars in the background remain for a long time after they were already accelerated
    - When adjusting star speed, existing stars need to become as fast as newly spawned stars
- Minor: Down-scaled planets look terrible
- Minor: Travel mode can execute after dying
- Minor: Stars at the beginning of the travel mode are not calculated correctly, but only after completing the first level

# Pending Improvements

- Explain abbreviations like wps, sts, and so on
- Explain controls (move, shoot, advance dialog)
- Add a title screen!
- Add the possibility to restart the game on the death screen
- Show on which level the player is (yellow text in the top center at the start of each level for a few seconds?)
- Make the moon on the start screen random (there are 5 or 6 other small planets/moons)

# License

All rights reserved.
